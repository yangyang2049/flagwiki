interface EntryTemplate {
  name: string;
  category: string;
  debit: string[];
  credit: string[];
  note: string;
  color: string;
}

@Entry
@Component
struct ReimbursementEntryPage {
  @State selectedTemplate: number = -1;

  private templates: EntryTemplate[] = [
    {
      name: 'å·®æ—…è´¹æŠ¥é”€',
      category: 'ç®¡ç†è´¹ç”¨',
      color: '#1677FF',
      debit: ['ç®¡ç†è´¹ç”¨â€”å·®æ—…è´¹'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘', 'æˆ–ï¼šå…¶ä»–åº”ä»˜æ¬¾â€”å‘˜å·¥æŠ¥é”€'],
      note: 'é€‚ç”¨äºå‘˜å·¥å‡ºå·®äº§ç”Ÿçš„äº¤é€šã€ä½å®¿ã€é¤é¥®ç­‰è´¹ç”¨'
    },
    {
      name: 'åŠå…¬è´¹æŠ¥é”€',
      category: 'ç®¡ç†è´¹ç”¨',
      color: '#52C41A',
      debit: ['ç®¡ç†è´¹ç”¨â€”åŠå…¬è´¹'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘'],
      note: 'é€‚ç”¨äºè´­ä¹°åŠå…¬ç”¨å“ã€æ–‡å…·ã€æ‰“å°ç­‰è´¹ç”¨'
    },
    {
      name: 'ä¸šåŠ¡æ‹›å¾…è´¹',
      category: 'ç®¡ç†è´¹ç”¨',
      color: '#FA8C16',
      debit: ['ç®¡ç†è´¹ç”¨â€”ä¸šåŠ¡æ‹›å¾…è´¹'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘'],
      note: 'æ³¨æ„ï¼šä¸šåŠ¡æ‹›å¾…è´¹ç¨å‰æ‰£é™¤æœ‰é™é¢ï¼ˆå‘ç”Ÿé¢çš„60%ä¸å¹´é”€å”®æ”¶å…¥çš„5â€°ï¼Œä¸¤è€…å–è¾ƒå°å€¼ï¼‰'
    },
    {
      name: 'äº¤é€šè´¹æŠ¥é”€',
      category: 'ç®¡ç†è´¹ç”¨',
      color: '#722ED1',
      debit: ['ç®¡ç†è´¹ç”¨â€”äº¤é€šè´¹'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘'],
      note: 'é€‚ç”¨äºå¸‚å†…äº¤é€šã€æ‰“è½¦ã€åœè½¦è´¹ç­‰'
    },
    {
      name: 'é€šè®¯è´¹æŠ¥é”€',
      category: 'ç®¡ç†è´¹ç”¨',
      color: '#13C2C2',
      debit: ['ç®¡ç†è´¹ç”¨â€”é€šè®¯è´¹'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘'],
      note: 'é€‚ç”¨äºç”µè¯è´¹ã€ç½‘ç»œè´¹ç­‰é€šè®¯ç›¸å…³è´¹ç”¨'
    },
    {
      name: 'å·®æ—…è´¹ï¼ˆå«è¿›é¡¹ç¨ï¼‰',
      category: 'ç®¡ç†è´¹ç”¨',
      color: '#FA541C',
      debit: ['ç®¡ç†è´¹ç”¨â€”å·®æ—…è´¹', 'åº”äº¤ç¨è´¹â€”åº”äº¤å¢å€¼ç¨ï¼ˆè¿›é¡¹ç¨é¢ï¼‰'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘'],
      note: 'é€‚ç”¨äºå–å¾—å¢å€¼ç¨ä¸“ç”¨å‘ç¥¨çš„å·®æ—…è´¹ï¼Œå¯æŠµæ‰£è¿›é¡¹ç¨'
    },
    {
      name: 'é¡¹ç›®è´¹ç”¨æŠ¥é”€',
      category: 'é¡¹ç›®æˆæœ¬',
      color: '#EB2F96',
      debit: ['å·¥ç¨‹æ–½å·¥â€”XXé¡¹ç›®', 'æˆ–ï¼šç ”å‘æ”¯å‡ºâ€”XXé¡¹ç›®'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘'],
      note: 'é€‚ç”¨äºé¡¹ç›®åˆ¶å…¬å¸çš„é¡¹ç›®ç›¸å…³è´¹ç”¨'
    },
    {
      name: 'é”€å”®è´¹ç”¨æŠ¥é”€',
      category: 'é”€å”®è´¹ç”¨',
      color: '#2F54EB',
      debit: ['é”€å”®è´¹ç”¨â€”å·®æ—…è´¹', 'æˆ–ï¼šé”€å”®è´¹ç”¨â€”ä¸šåŠ¡æ‹›å¾…è´¹'],
      credit: ['é“¶è¡Œå­˜æ¬¾', 'æˆ–ï¼šåº“å­˜ç°é‡‘'],
      note: 'é€‚ç”¨äºé”€å”®éƒ¨é—¨äº§ç”Ÿçš„ç›¸å…³è´¹ç”¨'
    }
  ];

  build() {
    Navigation() {
      Scroll() {
        Column() {
          // è¯´æ˜
          Column() {
            Text('æŠ¥é”€ä¼šè®¡åˆ†å½•æ¨¡æ¿')
              .fontSize(17)
              .fontWeight(FontWeight.Bold)
              .fontColor($r('app.color.text_primary'))
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 12 })

            Text('ä¼šè®¡äººå‘˜åœ¨å¤„ç†æŠ¥é”€æ—¶éœ€è¦æ ¹æ®è´¹ç”¨ç±»å‹åˆ¶ä½œç›¸åº”çš„ä¼šè®¡å‡­è¯ã€‚ä»¥ä¸‹æ˜¯å¸¸è§æŠ¥é”€ç±»å‹çš„ä¼šè®¡åˆ†å½•æ¨¡æ¿ã€‚')
              .fontSize(14)
              .fontColor($r('app.color.text_secondary'))
              .lineHeight(22)
          }
          .width('100%')
          .padding(20)
          .backgroundColor($r('app.color.bg_card'))
          .margin({ top: 0, left: 16, right: 16 })
          .alignItems(HorizontalAlign.Start)

          // æ¨¡æ¿åˆ—è¡¨
          ForEach(this.templates, (template: EntryTemplate, index: number) => {
            Column() {
              // æ¨¡æ¿æ ‡é¢˜
              Row() {
                Column() {
                  Text(template.name)
                    .fontSize(16)
                    .fontWeight(FontWeight.Bold)
                    .fontColor($r('app.color.text_primary'))
                  Text(template.category)
                    .fontSize(12)
                    .fontColor($r('app.color.text_tertiary'))
                    .margin({ top: 4 })
                }
                .alignItems(HorizontalAlign.Start)
                .layoutWeight(1)

                Text('æŸ¥çœ‹')
                  .fontSize(13)
                  .fontColor($r('app.color.button_primary'))
                  .padding({ left: 12, right: 12, top: 6, bottom: 6 })
                  .borderRadius(4)
                  .border({ width: 1, color: $r('app.color.button_primary') })
              }
              .width('100%')
              .margin({ bottom: 16 })
              .onClick(() => {
                this.selectedTemplate = this.selectedTemplate === index ? -1 : index;
              })

              // å±•å¼€æ˜¾ç¤ºåˆ†å½•è¯¦æƒ…
              if (this.selectedTemplate === index) {
                Column() {
                  // å€Ÿæ–¹
                  Column() {
                    Text('å€Ÿæ–¹')
                      .fontSize(14)
                      .fontWeight(FontWeight.Bold)
                      .fontColor($r('app.color.color_red'))
                      .alignSelf(ItemAlign.Start)
                      .margin({ bottom: 8 })

                    ForEach(template.debit, (item: string) => {
                      Row() {
                        Text('å€Ÿï¼š')
                          .fontSize(14)
                          .fontColor($r('app.color.color_red'))
                          .fontWeight(FontWeight.Bold)
                          .margin({ right: 8 })
                        Text(item)
                          .fontSize(14)
                          .fontColor($r('app.color.text_primary'))
                      }
                      .width('100%')
                      .margin({ bottom: 6 })
                    })
                  }
                  .width('100%')
                  .padding(12)
                  .backgroundColor($r('app.color.bg_red_light'))
                  .borderRadius(8)
                  .margin({ bottom: 12 })
                  .alignItems(HorizontalAlign.Start)

                  // è´·æ–¹
                  Column() {
                    Text('è´·æ–¹')
                      .fontSize(14)
                      .fontWeight(FontWeight.Bold)
                      .fontColor($r('app.color.color_green'))
                      .alignSelf(ItemAlign.Start)
                      .margin({ bottom: 8 })

                    ForEach(template.credit, (item: string) => {
                      Row() {
                        Text('è´·ï¼š')
                          .fontSize(14)
                          .fontColor($r('app.color.color_green'))
                          .fontWeight(FontWeight.Bold)
                          .margin({ right: 8 })
                        Text(item)
                          .fontSize(14)
                          .fontColor($r('app.color.text_primary'))
                      }
                      .width('100%')
                      .margin({ bottom: 6 })
                    })
                  }
                  .width('100%')
                  .padding(12)
                  .backgroundColor($r('app.color.bg_green_light'))
                  .borderRadius(8)
                  .margin({ bottom: 12 })
                  .alignItems(HorizontalAlign.Start)

                  // æ³¨æ„äº‹é¡¹
                  if (template.note) {
                    Row() {
                      Text('ğŸ’¡')
                        .fontSize(14)
                        .margin({ right: 8 })
                      Text(template.note)
                        .fontSize(12)
                        .fontColor($r('app.color.text_secondary'))
                        .layoutWeight(1)
                    }
                    .width('100%')
                    .padding(12)
                    .backgroundColor($r('app.color.bg_secondary'))
                    .borderRadius(8)
                  }
                }
                .width('100%')
                .margin({ top: 8 })
              }
            }
            .width('100%')
            .padding(20)
            .backgroundColor($r('app.color.bg_card'))
            .margin({ top: 16, left: 16, right: 16 })
            .alignItems(HorizontalAlign.Start)
          })

          // é€šç”¨è¯´æ˜
          Column() {
            Text('é€šç”¨è¯´æ˜')
              .fontSize(17)
              .fontWeight(FontWeight.Bold)
              .fontColor($r('app.color.text_primary'))
              .alignSelf(ItemAlign.Start)
              .margin({ bottom: 16 })

            Text('â€¢ æŠ¥é”€é‡‘é¢ = å‘ç¥¨é‡‘é¢ï¼ˆå«ç¨ï¼‰')
              .fontSize(13)
              .fontColor($r('app.color.text_secondary'))
              .margin({ bottom: 8 })
              .alignSelf(ItemAlign.Start)

            Text('â€¢ å–å¾—ä¸“ç¥¨æ—¶ï¼Œéœ€åˆ†ç¦»è¿›é¡¹ç¨é¢ï¼Œå€Ÿè®°"åº”äº¤ç¨è´¹â€”åº”äº¤å¢å€¼ç¨ï¼ˆè¿›é¡¹ç¨é¢ï¼‰"')
              .fontSize(13)
              .fontColor($r('app.color.text_secondary'))
              .margin({ bottom: 8 })
              .alignSelf(ItemAlign.Start)

            Text('â€¢ è´¹ç”¨ç§‘ç›®å¯æ ¹æ®å…¬å¸å®é™…æƒ…å†µè°ƒæ•´ï¼ˆå¦‚ï¼šç®¡ç†è´¹ç”¨ã€é”€å”®è´¹ç”¨ã€ç ”å‘æ”¯å‡ºç­‰ï¼‰')
              .fontSize(13)
              .fontColor($r('app.color.text_secondary'))
              .margin({ bottom: 8 })
              .alignSelf(ItemAlign.Start)

            Text('â€¢ æ”¯ä»˜æ–¹å¼æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼šé“¶è¡Œå­˜æ¬¾ã€åº“å­˜ç°é‡‘ã€å…¶ä»–åº”ä»˜æ¬¾ç­‰')
              .fontSize(13)
              .fontColor($r('app.color.text_secondary'))
              .alignSelf(ItemAlign.Start)
          }
          .width('100%')
          .padding(20)
          .backgroundColor($r('app.color.bg_card'))
          .margin({ top: 16, left: 16, right: 16, bottom: 16 })
          .alignItems(HorizontalAlign.Start)
        }
      }
      .layoutWeight(1)
      .scrollBar(BarState.Off)
      .backgroundColor($r('app.color.bg_page'))
    }
    .title('ä¼šè®¡åˆ†å½•æ¨¡æ¿')
    .titleMode(NavigationTitleMode.Mini)
    .hideBackButton(false)
    .backgroundColor($r('app.color.bg_page'))
  }
}

