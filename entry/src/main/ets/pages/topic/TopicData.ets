// ä¸“é¢˜æ•°æ®é…ç½®

export interface TopicItem {
  id: string;
  name: string;          // ä¸­æ–‡åç§°
  nameEN: string;        // è‹±æ–‡åç§°
  description: string;   // ä¸­æ–‡æè¿°
  descriptionEN: string; // è‹±æ–‡æè¿°
  emoji: string;
  countryCodes: string[];
}

export const topics: TopicItem[] = [
  // æ–‡å­—ç±»ä¸“é¢˜ï¼ˆæŽ’åœ¨å‰é¢ï¼‰
  {
    id: 'vexillology',
    name: 'æ——å¸œå­¦',
    nameEN: 'Vexillology',
    description: 'æ——å¸œå­¦ï¼ˆå›½æ——å­¦ï¼‰çš„åŸºç¡€çŸ¥è¯†ã€ç ”ç©¶æ–¹æ³•å’ŒåŽ†å²æ¼”å˜',
    descriptionEN: 'Basic knowledge, research methods, and historical evolution of vexillology (flag studies)',
    emoji: 'ðŸ“š',
    countryCodes: [] // ç©ºæ•°ç»„è¡¨ç¤ºè¿™æ˜¯çŸ¥è¯†æ€§ä¸“é¢˜
  },
  {
    id: 'etiquette',
    name: 'å›½æ——ç¤¼ä»ª',
    nameEN: 'Flag Etiquette',
    description: 'å›½æ——åœ¨å›½é™…åœºåˆçš„ä½¿ç”¨è§„èŒƒå’Œç¤¼ä»ªçŸ¥è¯†',
    descriptionEN: 'Usage standards and etiquette knowledge of national flags in international occasions',
    emoji: 'ðŸŽ–ï¸',
    countryCodes: [] // ç©ºæ•°ç»„è¡¨ç¤ºè¿™æ˜¯çŸ¥è¯†æ€§ä¸“é¢˜
  },
  {
    id: 'manufacturing',
    name: 'å›½æ——åˆ¶ä½œ',
    nameEN: 'Flag Manufacturing',
    description: 'å›½æ——åˆ¶ä½œçš„æµç¨‹ã€ææ–™ã€å·¥åŽ‚å’Œè´¨é‡æ ‡å‡†',
    descriptionEN: 'Processes, materials, factories, and quality standards for flag manufacturing',
    emoji: 'ðŸ­',
    countryCodes: [] // ç©ºæ•°ç»„è¡¨ç¤ºè¿™æ˜¯çŸ¥è¯†æ€§ä¸“é¢˜
  },
  {
    id: 'flag-history',
    name: 'äº”æ˜Ÿçº¢æ——åŽ†å²',
    nameEN: 'Five-Star Red Flag History',
    description: 'äº”æ˜Ÿçº¢æ——çš„è®¾è®¡èƒŒæ™¯ã€åŽ†å²æ¼”å˜ã€æ³•å¾‹åœ°ä½å’Œæ–‡åŒ–æ„ä¹‰',
    descriptionEN: 'Design background, historical evolution, legal status, and cultural significance of the Five-Star Red Flag',
    emoji: 'ðŸ‡¨ðŸ‡³',
    countryCodes: [] // ç©ºæ•°ç»„è¡¨ç¤ºè¿™æ˜¯çŸ¥è¯†æ€§ä¸“é¢˜
  },
  {
    id: 'similar-flags',
    name: 'ç›¸ä¼¼æ——',
    nameEN: 'Similar Flags',
    description: 'ä¸€äº›å›½å®¶çš„å›½æ——ç›¸ä¼¼åº¦è¾ƒé«˜ï¼Œä»…åœ¨æ¯”ä¾‹ã€é¢œè‰²æ·±åº¦æˆ–ç»†èŠ‚ä¸Šæœ‰æ‰€ä¸åŒ',
    descriptionEN: 'Some countries have flags with high similarity, differing only in proportion, color depth, or details',
    emoji: 'ðŸ”€',
    countryCodes: ['mc', 'id', 'nl', 'lu', 'ro', 'td', 'cn', 'vn', 'ke', 'ss', 'ad', 'md', 'ir', 'tj', 'ie', 'ci'] // æ‘©çº³å“¥ã€å°å°¼ã€è·å…°ã€å¢æ£®å ¡ã€ç½—é©¬å°¼äºšã€ä¹å¾—ã€ä¸­å›½ã€è¶Šå—ã€è‚¯å°¼äºšã€å—è‹ä¸¹ã€å®‰é“å°”ã€æ‘©å°”å¤šç“¦ã€ä¼Šæœ—ã€å¡”å‰å…‹æ–¯å¦ã€çˆ±å°”å…°ã€ç§‘ç‰¹è¿ªç“¦
  },
  {
    id: 'international',
    name: 'å›½é™…ç»„ç»‡',
    nameEN: 'International Organizations',
    description: 'ä¸»è¦å›½é™…ç»„ç»‡çš„æ——å¸œ',
    descriptionEN: 'Flags of major international organizations',
    emoji: 'ðŸŒ',
    countryCodes: ['un', 'eu', 'olympic', 'nato', 'asean', 'au_org', 'arab_league', 'red_cross', 'fiav']
  },
  // å…¶ä»–ä¸“é¢˜
  {
    id: 'nordic',
    name: 'åŒ—æ¬§æ——å¸œ',
    nameEN: 'Nordic Flags',
    description: 'ä»¥åŒ—æ¬§åå­—ä¸ºç‰¹å¾çš„æ–¯å ªçš„çº³ç»´äºšå›½å®¶æ——å¸œ',
    descriptionEN: 'Scandinavian national flags featuring the Nordic cross',
    emoji: 'ðŸ‡©ðŸ‡°',
    countryCodes: ['dk', 'se', 'no', 'fi', 'is']
  },
  {
    id: 'tricolor',
    name: 'ä¸‰è‰²æ——',
    nameEN: 'Tricolor Flags',
    description: 'ç”±ä¸‰ç§é¢œè‰²æ¡çº¹ç»„æˆçš„ç»å…¸å›½æ——è®¾è®¡',
    descriptionEN: 'Classic national flag design with three colored stripes',
    emoji: 'ðŸ‡«ðŸ‡·',
    countryCodes: ['fr', 'it', 'de', 'be', 'nl', 'ie', 'ru', 'hu', 'ro', 'bg', 'lt', 'ee', 'lv', 'at', 'lu', 'mc', 'ml', 'td', 'ci', 'gn', 'ng', 'cm', 'sn', 'ne']
  },
  {
    id: 'pan-arab',
    name: 'æ³›é˜¿æ‹‰ä¼¯æ——å¸œ',
    nameEN: 'Pan-Arab Flags',
    description: 'é‡‡ç”¨çº¢ã€ç™½ã€é»‘ã€ç»¿æ³›é˜¿æ‹‰ä¼¯è‰²å½©çš„å›½æ——',
    descriptionEN: 'National flags using pan-Arab colors: red, white, black, and green',
    emoji: 'ðŸ‡µðŸ‡¸',
    countryCodes: ['jo', 'ps', 'ae', 'kw', 'sd', 'sy', 'iq', 'ye', 'eg', 'ly']
  },
  {
    id: 'pan-african',
    name: 'æ³›éžæ´²æ——å¸œ',
    nameEN: 'Pan-African Flags',
    description: 'é‡‡ç”¨çº¢ã€é»„ã€ç»¿æ³›éžæ´²è‰²å½©çš„å›½æ——',
    descriptionEN: 'National flags using pan-African colors: red, yellow, and green',
    emoji: 'ðŸŒ',
    countryCodes: ['et', 'gh', 'gn', 'ml', 'sn', 'bf', 'bj', 'tg', 'cm', 'cg', 'cf', 'rw', 'zm', 'zw', 'mz', 'ke', 'tz', 'ug']
  },
  {
    id: 'sun',
    name: 'å¤ªé˜³æ——',
    nameEN: 'Sun Flags',
    description: 'å›½æ——ä¸Šç»˜æœ‰å¤ªé˜³å›¾æ¡ˆçš„å›½å®¶',
    descriptionEN: 'Countries with sun symbols on their flags',
    emoji: 'â˜€ï¸',
    countryCodes: ['jp', 'bd', 'pw', 'ki', 'kz', 'kg', 'mw', 'na', 'ar', 'ag']
  },
  {
    id: 'crescent-moon',
    name: 'æ˜Ÿæœˆæ——',
    nameEN: 'Crescent and Star Flags',
    description: 'å›½æ——ä¸Šç»˜æœ‰æ˜Ÿæœˆæ ‡å¿—çš„å›½å®¶',
    descriptionEN: 'Countries with crescent and star symbols on their flags',
    emoji: 'ðŸŒ™',
    countryCodes: ['tr', 'pk', 'my', 'sg', 'dz', 'tn', 'mr', 'az', 'km', 'mv', 'ly', 'uz']
  },
  {
    id: 'blue-ensign',
    name: 'è“èˆ¹æ——',
    nameEN: 'Blue Ensign',
    description: 'æ¥è‡ªè‹±å›½çš„æ°‘ç”¨èˆ¹æ——è“èˆ¹æ——ï¼Œç±³å­—æ——ä»£è¡¨å‰è‹±å›½æ®–æ°‘åœ°ï¼Œè±¡å¾ä¸ºè‹±è”é‚¦æˆå‘˜',
    descriptionEN: 'Derived from the British Blue Ensign, the Union Jack represents former British colonies, symbolizing Commonwealth membership',
    emoji: 'ðŸš¢',
    countryCodes: ['au', 'nz', 'fj', 'tv'] // æ¾³å¤§åˆ©äºšã€æ–°è¥¿å…°ã€æ–æµŽã€å›¾ç“¦å¢
  },
  {
    id: 'pan-slavic',
    name: 'æ³›æ–¯æ‹‰å¤«æ——',
    nameEN: 'Pan-Slavic Flags',
    description: 'é‡‡ç”¨çº¢ã€ç™½ã€è“æ³›æ–¯æ‹‰å¤«è‰²å½©çš„å›½æ——ï¼Œä»£è¡¨æ–¯æ‹‰å¤«æ°‘æ—çš„å›¢ç»“',
    descriptionEN: 'National flags using pan-Slavic colors: red, white, and blue, representing Slavic unity',
    emoji: 'ðŸ‡·ðŸ‡º',
    countryCodes: ['ru', 'rs', 'sk', 'si', 'hr', 'cz'] // ä¿„ç½—æ–¯ã€å¡žå°”ç»´äºšã€æ–¯æ´›ä¼å…‹ã€æ–¯æ´›æ–‡å°¼äºšã€å…‹ç½—åœ°äºšã€æ·å…‹
  },
  {
    id: 'central-america',
    name: 'æ³›ä¸­ç¾Žæ´²è”é‚¦è‰²æ——',
    nameEN: 'Central American Federation Colors',
    description: 'ä¸­ç¾Žæ´²è”é‚¦å›½æ——ï¼Œè“è‰²ä»£è¡¨åŠ å‹’æ¯”æµ·å’Œå¤ªå¹³æ´‹ï¼Œç™½è‰²ä»£è¡¨å’Œå¹³ï¼Œå¾ˆå¤šå‰ä¸­ç¾Žæ´²è”é‚¦å…±å’Œå›½çš„æˆå‘˜å›½é‡‡ç”¨',
    descriptionEN: 'Central American Federation flag, with blue representing the Caribbean and Pacific, white representing peace, adopted by many former member states of the Central American Republic',
    emoji: 'ðŸ‡¬ðŸ‡¹',
    countryCodes: ['sv', 'hn', 'ni'] // è¨å°”ç“¦å¤šã€æ´ªéƒ½æ‹‰æ–¯ã€å°¼åŠ æ‹‰ç“œ
  },
  {
    id: 'miranda',
    name: 'æ³›ç±³å…°è¾¾è‰²æ——',
    nameEN: 'Miranda Colors',
    description: 'è¯¥æ——ä¸ºå¼—æœ—è¥¿æ–¯ç§‘Â·å¾·Â·ç±³å…°è¾¾äºŽå—ç¾Žç‹¬ç«‹è¿åŠ¨æ‰€ç”¨çš„æ——å¸œï¼Œå…¶ä¸­çº¢è‰²æ˜¯å—ç¾Žæ´²ï¼Œé»„è‰²æ˜¯è¥¿ç­ç‰™ï¼Œè“è‰²æ˜¯æµ·ã€‚åŽä¸ºå‰å¤§å“¥ä¼¦æ¯”äºšå…±å’Œå›½çš„ä¼šå‘˜å›½é‡‡ç”¨',
    descriptionEN: 'Flag used by Francisco de Miranda during the South American independence movement, with red representing South America, yellow representing Spain, and blue representing the sea. Later adopted by former member states of Gran Colombia',
    emoji: 'ðŸ‡¨ðŸ‡´',
    countryCodes: ['co', 've', 'ec'] // å“¥ä¼¦æ¯”äºšã€å§”å†…ç‘žæ‹‰ã€åŽ„ç“œå¤šå°”
  },
  {
    id: 'animals',
    name: 'å›½æ——ä¸Šçš„åŠ¨ç‰©',
    nameEN: 'Animals on Flags',
    description: 'å›½æ——ä¸Šç»˜æœ‰åŠ¨ç‰©å›¾æ¡ˆçš„å›½å®¶',
    descriptionEN: 'Countries with animal symbols on their flags',
    emoji: 'ðŸ¦',
    countryCodes: ['al', 'bt', 'lk', 'pg', 'zm', 'zw', 'ug', 'ec', 'es', 'kz', 'mx', 'rs', 'me', 'eg']
  }
];

export function getTopicById(id: string): TopicItem | undefined {
  return topics.find(t => t.id === id);
}

export function getAllTopics(language?: string): TopicItem[] {
  // åœ¨è‹±æ–‡çŽ¯å¢ƒä¸‹ï¼Œè¿‡æ»¤æŽ‰äº”æ˜Ÿçº¢æ——åŽ†å²ä¸“é¢˜
  if (language === 'en' || (language && language.startsWith('en-'))) {
    return topics.filter(topic => topic.id !== 'flag-history');
  }
  return topics;
}

// æœ¬åœ°åŒ–å·¥å…·å‡½æ•°ï¼šæ ¹æ®è¯­è¨€èŽ·å–ä¸“é¢˜åç§°
export function getLocalizedTopicName(topic: TopicItem, language: string): string {
  // äº”æ˜Ÿçº¢æ——åŽ†å²ä¸“é¢˜å§‹ç»ˆæ˜¾ç¤ºä¸­æ–‡
  if (topic.id === 'flag-history') {
    return topic.name;
  }
  
  if (!language) {
    return topic.name;
  }
  if (language === 'en') {
    return topic.nameEN;
  }
  // æ£€æŸ¥æ˜¯å¦ä»¥ 'en-' å¼€å¤´
  if (language.length > 3 && language.substring(0, 3) === 'en-') {
    return topic.nameEN;
  }
  return topic.name;
}

// æœ¬åœ°åŒ–å·¥å…·å‡½æ•°ï¼šæ ¹æ®è¯­è¨€èŽ·å–ä¸“é¢˜æè¿°
export function getLocalizedTopicDescription(topic: TopicItem, language: string): string {
  // äº”æ˜Ÿçº¢æ——åŽ†å²ä¸“é¢˜å§‹ç»ˆæ˜¾ç¤ºä¸­æ–‡
  if (topic.id === 'flag-history') {
    return topic.description;
  }
  
  if (!language) {
    return topic.description;
  }
  if (language === 'en') {
    return topic.descriptionEN;
  }
  // æ£€æŸ¥æ˜¯å¦ä»¥ 'en-' å¼€å¤´
  if (language.length > 3 && language.substring(0, 3) === 'en-') {
    return topic.descriptionEN;
  }
  return topic.description;
}

